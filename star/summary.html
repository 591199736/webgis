<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>结算界面</title>
    <link rel="stylesheet" type="text/css" href="css/summary.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<body>

<script type="text/javascript"
        src="https://cdn.jsdelivr.net/gh/Fuukei/Public_Repository@latest/static/js/sakura-less.js"></script>
<link href='https://fonts.googleapis.com/css?family=Roboto:100,400,300,500,700' rel='stylesheet' type='text/css'>

    <div class="conteneur" align="center">
        <div class="css3_div">
            <img style="height: 100px;opacity:50%" src="image/bingdu.png" />
            <div class="txtcss">
                <font style="font-weight:300;font-size: 45px;">山川异域，风月同天</font> <font style="font-weight:400;font-size: 45px;"></font>
                <br />
                <font style="font-weight:300; font-size: 18px;">Lands apart, sky shared.</font>
            </div>
        </div>
        <div class="html5_div">
            <img style="height: 100px;opacity:50%" src="image/bingdu.png" />
            <div class="txthtml">
                <font style="font-weight:300;font-size: 45px;"></font> <font style="font-weight:400;font-size: 45px;">战场重现</font>
                <br />
                <font style="font-weight:300; font-size: 18px;">achievement review</font>
            </div>
        </div>
        <div class="trycss">
            <font style="font-weight:300;font-size: 30px;"></font> <font style="font-weight:400;font-size: 40px;">本次模拟正式结束，</font>
            <br />
            <font style="font-weight:300; font-size: 18px;"> Tomorrow is another day.</font>
        </div>
        <div class="shareit">
            <font style="font-weight:300;font-size: 45px;"> </font> <font style="font-weight:400;font-size: 40px;">你可听见人们的高歌？</font>
            <br />
            <font style="font-weight:300; font-size: 18px;">Do you hear the people sing?</font>
        </div>
    </div>
    <div class="html5_div" id="box">
        <div class="gradient-border" id="achievement" style="text-align:center">
            <div style="text-align:center" class="div5">
                <font style="font-weight:400;font-size: 40px;">入侵 · 成就</font>
            </div>
        </div>
        <div class="gradient-border" id="yourdata">
            <div style="text-align:center" class="div5">
                <font style="font-weight:400;font-size: 40px;">数据 · 回顾</font>
            </div>
            <div style="text-align:center" class="div2">
                <font style="font-weight:400;font-size: 30px;">总计传播天数</font><p id="one"></p>
            </div>
            <div style="text-align:center" class="div2">
                <font style="font-weight:400;font-size: 30px;">总计感染人数</font><p id="two"></p><font style="font-weight:400;font-size: 30px;"></font>
            </div>
            <div style="text-align:center" class="div2">
                <font style="font-weight:400;font-size: 30px;">总计死亡人数<p id="three"></p>
            </div>
        </div>
       
    </div>

<script>
    var name = sessionStorage.getItem("name");
    var achieve = sessionStorage.getItem("achievement");
    var one = sessionStorage.getItem("time");
    var two = sessionStorage.getItem("allHealth");
    var three = sessionStorage.getItem("allDead");
    var game = sessionStorage.getItem("game");

    if (game == 2) {
        $("#cgame").html("黑暗降临："+ window.name + "占领该地球")
        $("#egame").html("You beat the game! Congradulations for you!")
    }
    if (game == 3) {
        $("#cgame").html("啼破天明：人类大获全胜")
        $("#egame").html("You lose the game. Congradulations for human-beings!")
    }
    if (game == 4) {
        $("#cgame").html("人类火种终存续，纸船明烛照天烧")
        $("#egame").html("You lose the game. Congradulations for human-beings!")
    }

    var count = 0;
    var time1 = 0;
    window.onload = function () {
        getApi();
    }

    function getApi() {
        //设置时间 5-秒  1000-毫秒  这里设置你自己想要的时间
        setTimeout(getApi, 1 * 1000);
        window.time1 = window.time1 + 1;

        if (time1 == 4) {
            console.log(achieve);
            // 根据成就等级插入div
            if (achieve[0] == 1) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 限时狙击 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            else if (achieve[0] == 2) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 雾海航行 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            else if (achieve[0] == 3) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 最后高地 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            else if (achieve[0] == 4) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 鬼火燎原 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            if (achieve[2] == 1) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 人类不死 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            if (achieve[4] == 1) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 临危不乱 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            if (achieve[6] == 1) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 恐怖肆虐 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            else if (achieve[6] == 2) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 管控无力 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            if (achieve[8] == 1) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 医者仁心 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            if (achieve[10] == 1 && count < 5) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 免疫危城 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            if (achieve[12] == 1 && count < 5) {
                var div = document.getElementById('achievement');
                // 创建li元素
                var li = document.createElement('div')

                li.setAttribute("class", "div1");
                // 向li中添加文本内容
                li.innerHTML = '⭐️ 人类奇迹 ⭐️'
                // 向指定div中插入li
                div.appendChild(li);
                count = count + 1;
            }
            console.log(count);
            var div = document.getElementById('box');
            div.style.display = "flex";
        }
    }


    // 统计数据的滚动显示：targetNum为最终数值，delay为效果持续时间
    function numscroll(elementID, targetNum, delay) {
        let a = document.getElementById(elementID);
        let timmerA = setInterval(function () {
            if (a.innerText != targetNum) {
                let num = Number(a.innerText);
                num += Number((targetNum / delay / 10).toFixed(0)); //若有小数需求可自行修改此行
                if (num < targetNum) {        //针对有余数除不尽
                    a.innerText = num;
                } else {
                    a.innerText = targetNum;
                }
            } else {
                clearInterval(timmerA)
            }
        }, 100)
    }
    // 测试数据 到时候换成我们的
    numscroll('one', one, 5);
    numscroll('two', two, 5);
    numscroll('three', three, 5);
</script>

</body>
</html>